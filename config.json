{
  "repos_root": "~/repos",
  "spec_workflow_dir_name": ".spec-workflow",
  "specs_subdir": "specs",
  "tasks_filename": "tasks.md",
  "codex_command": ["codex", "e", "--dangerously-bypass-approvals-and-sandbox"],
  "prompt_template": "Continue work on spec '{spec_name}':\n\n## Current Progress\n{progress_summary}\n\n## Your Approach - CHOOSE WHAT WORKS BEST\n\nYou have FULL AUTONOMY to choose the most effective approach:\n\n### Option A: Direct Implementation (Simple Tasks)\n- For straightforward fixes, work directly\n- Use Edit/Write tools to modify code\n- Make atomic commits immediately\n\n### Option B: Agent/Swarm Coordination (Complex Work)\n- For complex multi-file work, spawn Task agents\n- Use claude-flow workers for parallel execution\n- Coordinate multiple agents for efficiency\n- Let background workers handle analysis/optimization\n\n### Option C: Hybrid Approach\n- Mix direct work with agent delegation\n- Use your judgment on what's most efficient\n\n## Available Tools\n\n**claude-flow workers** (if available):\n- map: Fast codebase analysis and tracking\n- audit: Security and quality checks  \n- optimize: Performance improvements\n- consolidate: Deduplication and cleanup\n\n**Your toolkit**:\n- Task: Spawn specialized agents for parallel work\n- Edit/Write: Direct code modification\n- Bash: Run tests, check status\n- Read/Grep: Understand codebase\n\n## Requirements\n\n1. **Read tasks.md**: Review .spec-workflow/specs/{spec_name}/tasks.md\n\n2. **Choose optimal strategy**:\n   - 1-2 simple tasks? Work directly\n   - 5+ related tasks? Spawn agents\n   - Complex refactoring? Use swarm coordination\n   - Testing? Parallel execution\n\n3. **Make commits**:\n   - After each logical change\n   - Format: 'fix(component): description'\n   - Include agent commits\n\n4. **Update tasks.md**:\n   - Mark completed tasks: **Status**: Pending → **Status**: Completed\n   - Commit updates: 'chore(spec): update task completion status'\n\n5. **Work efficiently**:\n   - Group related tasks\n   - Use parallel execution when beneficial\n   - Don't wait unnecessarily\n\n**Remember**: Choose the approach that gets tasks done fastest and most reliably!",
  "pre_session_validation_prompt": "TEMPLATE CHECK for spec '{spec_name}':\n\n## Goal\nVerify tasks.md exists and follows the template structure.\n\n## Steps\n\n1. Check if `.spec-workflow/specs/{spec_name}/tasks.md` exists\n2. Compare structure with `.spec-workflow/templates/tasks-template.md`\n3. Verify required sections exist:\n   - Task numbering (1.1, 1.2, etc.)\n   - Status field for each task\n   - Priority field for each task\n4. If template compliant: Report \"✅ Template compliant\"\n5. If issues found: List specific missing sections\n\nIMPORTANT:\n- DO NOT review code or update progress\n- DO NOT change task statuses\n- DO NOT make commits\n- ONLY check template structure compliance\n- This should complete in <10 seconds",
  "enable_pre_session_validation": true,
  "no_commit_limit": 3,
  "log_dir_name": "logs",
  "log_file_template": "task_{index}.log",
  "ignore_dirs": [".git", ".next", "node_modules", "dist"],
  "monitor_refresh_seconds": 5,
  "cache_dir": "~/.cache/spec-workflow-runner",
  "cache_max_age_days": 7,
  "activity_timeout_seconds": 300,
  "activity_check_interval_seconds": 300,
  "mcp_server_name": "spec-workflow",
  "mcp_package": "npx @pimzino/spec-workflow-mcp@latest",
  "codex_config_overrides": {
    "mcp_servers.spec-workflow.tool_timeout_sec": 60,
    "mcp_servers.spec-workflow.startup_timeout_sec": 60
  },
  "retry_max_retries": 3,
  "retry_backoff_seconds": 5,
  "retry_on_crash": true,
  "retry_log_dir": "logs/retries",
  "retry_backoff_multiplier": 2.0,
  "retry_max_backoff_seconds": 300,
  "enable_smart_completion_check": true,
  "completion_check_max_probes": 5,
  "completion_check_probe_interval": 30
}
